[
  {
    "objectID": "tutorials/MALECOT/MALECOT_installation.html",
    "href": "tutorials/MALECOT/MALECOT_installation.html",
    "title": "MALECOT_installation",
    "section": "",
    "text": "This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/MALECOT/MALECOT_installation.html#r-markdown",
    "href": "tutorials/MALECOT/MALECOT_installation.html#r-markdown",
    "title": "MALECOT_installation",
    "section": "",
    "text": "This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/MALECOT/MALECOT_installation.html#including-plots",
    "href": "tutorials/MALECOT/MALECOT_installation.html#including-plots",
    "title": "MALECOT_installation",
    "section": "Including Plots",
    "text": "Including Plots\nYou can also embed plots, for example:\n\n\n\n\n\nNote that the echo = FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot."
  },
  {
    "objectID": "tutorials/tests/test_python_notebook.html",
    "href": "tutorials/tests/test_python_notebook.html",
    "title": "This is a test of a python notebook",
    "section": "",
    "text": "import numpy as np\nimport matplotlib.pyplot as plt\n\nWe will display a random plot below\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(\n  subplot_kw = {'projection': 'polar'} \n)\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "website_docs/contributors.html",
    "href": "website_docs/contributors.html",
    "title": "Contributors",
    "section": "",
    "text": "PGEforge was supported by the following people, listed alphabetically.\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE"
  },
  {
    "objectID": "website_docs/contributors.html#main-contributors",
    "href": "website_docs/contributors.html#main-contributors",
    "title": "Contributors",
    "section": "",
    "text": "PGEforge was supported by the following people, listed alphabetically.\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE\n\n\n\n\n\n\n\n\nAffiliations: ABCDE"
  },
  {
    "objectID": "website_docs/radish23.html",
    "href": "website_docs/radish23.html",
    "title": "RADISH 2023",
    "section": "",
    "text": "A cute radish\n\n\nThe Reproducibility, Accessibility, Documentation and Inter-operability Standards Hackathon (RADISH23), organised by Bob Verity, Shazia Ruybal, Bryan Greenhouse and Amy Wesolowski will take place on Mon 11th Dec to Thurs 14th Dec 2023 in Baltimore, USA."
  },
  {
    "objectID": "website_docs/radish23.html#welcome",
    "href": "website_docs/radish23.html#welcome",
    "title": "RADISH 2023",
    "section": "",
    "text": "A cute radish\n\n\nThe Reproducibility, Accessibility, Documentation and Inter-operability Standards Hackathon (RADISH23), organised by Bob Verity, Shazia Ruybal, Bryan Greenhouse and Amy Wesolowski will take place on Mon 11th Dec to Thurs 14th Dec 2023 in Baltimore, USA."
  },
  {
    "objectID": "website_docs/radish23.html#main-aims",
    "href": "website_docs/radish23.html#main-aims",
    "title": "RADISH 2023",
    "section": "Main aims",
    "text": "Main aims\nOur aim to take the wide range of software tools in malaria genomic epidemiology and make it so that more people can use them more reliably. This is a first step in working towards more ambitious goals like designing workflows, benchmarking, or coming up with guidelines for best practices."
  },
  {
    "objectID": "website_docs/radish23.html#tutorial-development",
    "href": "website_docs/radish23.html#tutorial-development",
    "title": "RADISH 2023",
    "section": "Tutorial development",
    "text": "Tutorial development\nTake a look at the tutorial guidelines for more details."
  },
  {
    "objectID": "tutorials_overview.html",
    "href": "tutorials_overview.html",
    "title": "Tutorials overview",
    "section": "",
    "text": "Some details of the various tutorials and the types of tools, eg simulation, analysis etc\nNote: we can create a ‘listing’ of all tutorials, more details here\nFor now, in the Tests menu option we have a test R markdown (.rmd) and a Python notebook (.ipynb) for demonstration purposes."
  },
  {
    "objectID": "tutorials_overview.html#tutorial-details",
    "href": "tutorials_overview.html#tutorial-details",
    "title": "Tutorials overview",
    "section": "",
    "text": "Some details of the various tutorials and the types of tools, eg simulation, analysis etc\nNote: we can create a ‘listing’ of all tutorials, more details here\nFor now, in the Tests menu option we have a test R markdown (.rmd) and a Python notebook (.ipynb) for demonstration purposes."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "PGEforge",
    "section": "",
    "text": "PGEforge is a community-built resource for enhancing common software tools in Plasmodium genomic epidemiology with tutorials and analysis workflows."
  },
  {
    "objectID": "index.html#welcome",
    "href": "index.html#welcome",
    "title": "PGEforge",
    "section": "",
    "text": "PGEforge is a community-built resource for enhancing common software tools in Plasmodium genomic epidemiology with tutorials and analysis workflows."
  },
  {
    "objectID": "index.html#a-community-led-effort",
    "href": "index.html#a-community-led-effort",
    "title": "PGEforge",
    "section": "A community-led effort",
    "text": "A community-led effort\nMost of these resources were developed at the RADISH23 Hackathon by the following contributors."
  },
  {
    "objectID": "index.html#funding",
    "href": "index.html#funding",
    "title": "PGEforge",
    "section": "Funding",
    "text": "Funding"
  },
  {
    "objectID": "website_docs/tutorial_guidelines.html",
    "href": "website_docs/tutorial_guidelines.html",
    "title": "Tutorial guidelines",
    "section": "",
    "text": "Some guidelines here:\n\nexplanation of directory structure (ie tutorials/MALECOT)\ndescribe example tutorial and what should be included"
  },
  {
    "objectID": "website_docs/tutorial_guidelines.html#how-to-prepare-your-tutorial",
    "href": "website_docs/tutorial_guidelines.html#how-to-prepare-your-tutorial",
    "title": "Tutorial guidelines",
    "section": "",
    "text": "Some guidelines here:\n\nexplanation of directory structure (ie tutorials/MALECOT)\ndescribe example tutorial and what should be included"
  },
  {
    "objectID": "website_docs/data_description.html",
    "href": "website_docs/data_description.html",
    "title": "Data description",
    "section": "",
    "text": "Some details about the logic behind the data selection"
  },
  {
    "objectID": "website_docs/data_description.html#data-logic",
    "href": "website_docs/data_description.html#data-logic",
    "title": "Data description",
    "section": "",
    "text": "Some details about the logic behind the data selection"
  },
  {
    "objectID": "website_docs/data_description.html#datasets",
    "href": "website_docs/data_description.html#datasets",
    "title": "Data description",
    "section": "Datasets",
    "text": "Datasets\nDescription of the available datasets and their locations"
  },
  {
    "objectID": "tutorials/tests/test_rmd.html",
    "href": "tutorials/tests/test_rmd.html",
    "title": "Rmarkdown file test",
    "section": "",
    "text": "This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/tests/test_rmd.html#r-markdown",
    "href": "tutorials/tests/test_rmd.html#r-markdown",
    "title": "Rmarkdown file test",
    "section": "",
    "text": "This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/tests/test_rmd.html#including-plots",
    "href": "tutorials/tests/test_rmd.html#including-plots",
    "title": "Rmarkdown file test",
    "section": "Including Plots",
    "text": "Including Plots\nYou can also embed plots, for example:\n\n\n\n\n\nNote that the echo = FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot."
  },
  {
    "objectID": "tutorials/DRpower/to_delete.html",
    "href": "tutorials/DRpower/to_delete.html",
    "title": "This is a test file for the DRpower folder - delete",
    "section": "",
    "text": "foo\n\n\n\n Back to top"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html",
    "href": "tutorials/DRpower/DRpower_background.html",
    "title": "DRpower",
    "section": "",
    "text": "Summary sheet\n\n\n\n\n\nMain use-cases\nStudy design, prevalence estimation\n\n\nAuthors\nBob Verity, Shazia Ruybal-Pesántez\n\n\nLatest version\nv1.0.0\n\n\nWebsite\nhttps://mrc-ide.github.io/DRpower/\n\n\nCode repository\nhttps://github.com/mrc-ide/Drpower\n\n\nPublication\nUnpublished\n\n\nTutorial author\nBob Verity\n\n\nTutorial date\n8-Dec-23\n\n\n\n\n\n\n\n\n\nPurpose\nDRpower is an R package that is primarily intended for pfhrp2/3 deletion studies. However, it can also be applied to drug resistance data, or indeed and data that takes the form of a prevalence estimate (numerator and denominator). It can be used in two main ways:\n\nIn the design phase of a study to perform power and sample size calculations. This can tell us how many sites we need to recruit, and how many samples per site.\nIn the analysis phase of a study to estimate the prevalence of the marker of interest, and compare this value against a set threshold.\n\nIt uses a Bayesian model to estimate the prevalence, which takes into account the potential of intra-cluster correlation in multi-site studies.\n\n\nExisting resources\n\nThe DRpower website gives details of the statistical arguments behind the tool, installation instructions, and worked tutorials for both design and analysis phases.\nThe pfhrp2/3 Planner provides a web-based interface to the DRpower tool. It does not have all the functionality of the R package, but can be used to carry out simple design and analysis tasks.\n\n\n\nCitation\nPlease use the following citation:\n@Manual{,\n    title = {DRpower: Study design and analysis for pfhrp2/3 deletion prevalence studies},\n    author = {Bob Verity and Shazia Ruybal},\n    note = {R package version 1.0.0},\n  }\n\n\n\n\n Back to top"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#r-markdown",
    "href": "tutorials/DRpower/DRpower_background.html#r-markdown",
    "title": "DRpower",
    "section": "R Markdown",
    "text": "R Markdown\nThis is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#including-plots",
    "href": "tutorials/DRpower/DRpower_background.html#including-plots",
    "title": "DRpower",
    "section": "Including Plots",
    "text": "Including Plots\nYou can also embed plots, for example:\n\n\n\n\n\nNote that the echo = FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#what-does-it-do",
    "href": "tutorials/DRpower/DRpower_background.html#what-does-it-do",
    "title": "DRpower",
    "section": "What does it do?",
    "text": "What does it do?\nThis is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#purpose",
    "href": "tutorials/DRpower/DRpower_background.html#purpose",
    "title": "DRpower",
    "section": "Purpose",
    "text": "Purpose\nDRpower is an R package that is primarily intended for pfhrp2/3 deletion studies. However, it can also be applied to drug resistance data, or indeed and data that takes the form of a prevalence estimate (numerator and denominator). It can be used in two main ways:\n\nIn the design phase of a study to perform power and sample size calculations. This can tell us how many sites we need to recruit, and how many samples per site.\nIn the analysis phase of a study to estimate the prevalence of the marker of interest, and compare this value against a set threshold.\n\nIt uses a Bayesian model to estimate the prevalence, which takes into account the potential of intra-cluster correlation in multi-site studies."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_installation.html",
    "href": "tutorials/DRpower/DRpower_installation.html",
    "title": "Installing DRpower",
    "section": "",
    "text": "DRpower is an R package, but it uses C++ code under the hood via the Rcpp package to make calculations faster. When you load the package for the first time, these C++ files must be compiled on your local machine. This requires you to have a C++ compiler installed.\nExpand the arrow to see instructions for your operating system:\n\n\nWindows\n\n\nInstall Rtools, which contains a series of tools for building R packages.\nOnce you have Rtools installed you should be able to compile.\n\n\n\n\nMac\n\n\nOpen a Terminal window. You can do this by searching (keyboard shortcut command+space) for “Terminal”.\nInside the terminal window, type the command xcode-select --install. This will prompt you to install Xcode command line tools.\nOnce you have Xcode command line tools installed you should be able to compile.\n\n\n\n\nLinux (Ubuntu)\n\n\nInstalling on Linux is a bit more tricky. Start by installing gcc.\nOpen a Terminal window.\nExecute the command sudo apt-get install r-base-dev.\nYou should now be able to compile."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_data.html",
    "href": "tutorials/DRpower/DRpower_data.html",
    "title": "Design of a study with multiple end-points",
    "section": "",
    "text": "Required data format\nDRpower requires very simple input data. This is because it assumes that all filtering of raw genetic data has already been done upstream, and what we are left with are simple counts of the number of samples tested, and the number that were positive for our marker of interest. DRpower is designed for pfhrp2/3 deletion studies, so this “marker” is usually the number of samples with confirmed gene deletions. But it can also be used for drug resistance data, or really anything that is measured as a prevalence!\nAn example of the\n\n\n\n\n Back to top"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_design.html",
    "href": "tutorials/DRpower/DRpower_design.html",
    "title": "Designing a drug and diagnostic resistance study",
    "section": "",
    "text": "Here, we will use DRpower to help us design a prospective malaria molecular surveillance (MMS) study in the Democratic Republic of the Congo (DRC). We are interested in the following questions:\n\nWhat is the prevalence of sulfadoxine/pyrimethamine (SP) mutations?\nAre there any pfkelch13 mutations?\nWhat is the prevalence of pfhrp2/3 gene deletions, and is this prevalence above 5% (the WHO threshold at which a nationwide change in RDTs is recommended)?\n\nBased on initial budget calculations, we hope to collect 100 samples from each of 3 sites in each of 10 provinces. We want to know what sort of power we can expect with these numbers for each of the end-points above."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_design.html#premise",
    "href": "tutorials/DRpower/DRpower_design.html#premise",
    "title": "Designing a drug and diagnostic resistance study",
    "section": "",
    "text": "Here, we will use DRpower to help us design a prospective malaria molecular surveillance (MMS) study in the Democratic Republic of the Congo (DRC). We are interested in the following questions:\n\nWhat is the prevalence of sulfadoxine/pyrimethamine (SP) mutations?\nAre there any pfkelch13 mutations?\nWhat is the prevalence of pfhrp2/3 gene deletions, and is this prevalence above 5% (the WHO threshold at which a nationwide change in RDTs is recommended)?\n\nBased on initial budget calculations, we hope to collect 100 samples from each of 3 sites in each of 10 provinces. We want to know what sort of power we can expect with these numbers for each of the end-points above."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_design.html#sp-mutation-prevalence---margin-of-error-moe-calculation",
    "href": "tutorials/DRpower/DRpower_design.html#sp-mutation-prevalence---margin-of-error-moe-calculation",
    "title": "Designing a drug and diagnostic resistance study",
    "section": "SP mutation prevalence - margin of error (MoE) calculation",
    "text": "SP mutation prevalence - margin of error (MoE) calculation\nOur plan is to pool results over the 3 sites within each province to arrive at an estimate of the overall prevalence of SP mutations at the province level. When pooling results, we need to take account of intra-cluster correlation in our confidence intervals (CIs). Failure to do so will lead to unrealistically tight intervals. DRpower provides several functions for calculating the expected margin of error (MoE) given assumptions about sample size and the known prevalence of mutations.\nFirst, let’s load the package and set the random seed so our results are reproducible:\nlibrary(DRpower)\nset.seed(1)\nThen we will use the get_margin() function to tell us the MoE we can expect if the prevalence of the mutation is 10%. We set the parameters to represent 3 clusters of 100 samples:\n# get MoE using simple calculation\nget_margin(N = 100, n_clust = 3, prevalence = 0.1, ICC = 0.05)\n## [1] 0.08280703\nWe expect 8.3% MoE, meaning we expect to estimate the prevalence to within plus or minus 8.3% (so from 1.7% to 18.3%). This is quite a precise estimate.\nOur worst case MoE will occur when the prevalence of the marker is 50%. We can explore this here:\n# get worst case MoE\nget_margin(N = 100, n_clust = 3, prevalence = 0.5, ICC = 0.05)\n## [1] 0.1380117\nIn the worst case, our MoE goes up to 14%. This is still quite precise.\nHowever, this approach assumes that we know the level of intra-cluster correlation (ICC) exactly. It also assumes a normal distribution when producing the CI, which may not be appropriate. A more cautious approach is to estimate prevalence using the Bayesian model within DRpower. This model accounts for uncertainty in the ICC. If we plan to use the Bayesian model then we should use the get_margin_Bayesian() function:\n# get expected MoE via the Bayesian approach\nget_margin_Bayesian(N = rep(100, 3), prevalence = 0.1, reps = 1e2)\n##       estimate    CI_2.5   CI_97.5\n## lower   3.8705  3.391827  4.349173\n## upper  25.1018 23.891353 26.312247\nWe now only get an estimate of the MoE, although it appears reasonably precise. We could increase the number of reps to make this more precise if we wanted. We can expect our 95% credible interval (CrI) to span from 3.9% to 25.1%. Interestingly, this is narrower at the low end than our simple estimate, but wider at the high end. We can explore our worst case MoE using the same method:\n# get worst case MoE via the Bayesian approach\nget_margin_Bayesian(N = rep(100, 3), prevalence = 0.5, reps = 1e2)\n##       estimate   CI_2.5  CI_97.5\n## lower  33.4947 31.92120 35.06820\n## upper  65.5736 64.12608 67.02112\nIn the worst case, we can expect to estimate prevalence from 33.5% to 65.6%. So we should be able to determine roughly which third of the prevalence range the mutation occupies (i.e. “low”, “intermediate” or “high”), but not much more precise than this."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_design.html#pfkelch13-mutations---presenceabsence-analysis",
    "href": "tutorials/DRpower/DRpower_design.html#pfkelch13-mutations---presenceabsence-analysis",
    "title": "Designing a drug and diagnostic resistance study",
    "section": "pfkelch13 mutations - presence/absence analysis",
    "text": "pfkelch13 mutations - presence/absence analysis\nWhen it comes to pfkelch13, we are interested in knowing if there are any mutants in the province, rather than estimating the prevalence of mutants. A single positive sample would prove that there are. However, if the prevalence is very low then we may get unlucky and miss all positive samples. We can use the get_power_presence() function to explore our probability of detecting at least one positive sample:\n# get power when prevalence is 1%\nget_power_presence(N = rep(100, 3), prevalence = 0.01)\n## [1] 0.6538844\nWe can see that for pfkelch13 mutants at 1% prevalence, we would only have a 65% chance of detecting one in any of our 3 sites within a province. This is quite low power. Compare that to the result if we assume mutants are at 2% in the province:\n# get power when prevalence is 2%\nget_power_presence(N = rep(100, 3), prevalence = 0.02)\n## [1] 0.8808013\nWe now have close to 90% power. So, we can say we are powered to detect rare variants down to around 2%, but if they are less common than this then we risk missing them. Whether or not this is an acceptable level of power depends on programmatic factors, amongst others."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_design.html#pfhrp23-deletions---comparison-against-5-threshold",
    "href": "tutorials/DRpower/DRpower_design.html#pfhrp23-deletions---comparison-against-5-threshold",
    "title": "Designing a drug and diagnostic resistance study",
    "section": "pfhrp2/3 deletions - comparison against 5% threshold",
    "text": "pfhrp2/3 deletions - comparison against 5% threshold\nWe plan to follow the WHO Master Protocol approach, changing RDTs at a national level if any province has a prevalence of pfhrp2/3 deletions significantly over 5%. We can use the get_power() function to calculate our power for a given prevalence of deletions:\n# estimate power under WHO approach\nget_power(N = rep(100, 3), prevalence = 0.1, prev_thresh = 0.05, reps = 1e3)\n##   prev_thresh power lower upper\n## 1        0.05  59.9 56.79 62.95\nWe only have around 60% power under this design. We would obtain a higher power if we assumed the prevalence of pfhrp2/3 deletions was higher than 10%, but we would need to be able to justify this assumption with evidence - for example results of a pilot study, or results from neighboring countries.\nIn our case, we will instead abandon the threshold comparison approach in favour of a two-step design. Our new plan is to look for the presence of any pfhrp2/3 deletions at the province level, and only if these are detected we will perform a followup study in that province. The nice thing here is that we have already performed this power calculation, as it becomes a presence/absence analysis exactly as we did above for pfkelch13. We know that we have power to detect something down to around 2% prevalence.\nFor our followup study, we can explore what would happen if we doubled the number of sites in that province:\n# estimate power with 6 sites of 100\nget_power(N = rep(100, 6), prevalence = 0.1, prev_thresh = 0.05, reps = 1e3)\n##   prev_thresh power lower upper\n## 1        0.05  78.4 75.72 80.91\nWe find that power is around 79%, which is acceptable."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_design.html#summary",
    "href": "tutorials/DRpower/DRpower_design.html#summary",
    "title": "Designing a drug and diagnostic resistance study",
    "section": "Summary",
    "text": "Summary\nWe have used DRpower to explore the kind of precision and power we can expect for a given study design. This has revealed that:\n\nWhen estimating SP mutations, we will have only a rough idea of the prevalence. Probably in the “low” vs. “intermediate” vs. “high” range.\nFor pfkelch13 mutations, we are powered to detect rare variants down to around 2%. Any lower than this and we run a real risk of missing them.\nFor pfhrp2/3 deletions, we do not have power under the WHO Master Protocol approach. We have therefore modified our study design to a two-stage process that focuses first on detection, and then on prevalence estimation."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#summary-sheet",
    "href": "tutorials/DRpower/DRpower_background.html#summary-sheet",
    "title": "DRpower",
    "section": "Summary sheet",
    "text": "Summary sheet\n\n\n\n\n\nMain use-cases\nStudy design, prevalence estimation\n\n\nAuthors\nBob Verity, Shazia Ruybal-Pesántez\n\n\nLatest version\nv1.0.0\n\n\nWebsite\nhttps://mrc-ide.github.io/DRpower/\n\n\nCode repository\nhttps://github.com/mrc-ide/Drpower\n\n\nPublication\nUnpublished\n\n\nTutorial author\nBob Verity\n\n\nTutorial date\n8-Dec-23"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#existing-resources",
    "href": "tutorials/DRpower/DRpower_background.html#existing-resources",
    "title": "DRpower",
    "section": "Existing resources",
    "text": "Existing resources\n\nThe DRpower website gives details of the statistical arguments behind the tool, installation instructions, and worked tutorials for both design and analysis phases.\nThe pfhrp2/3 Planner provides a web-based interface to the DRpower tool. It does not have all the functionality of the R package, but can be used to carry out simple design and analysis tasks."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_background.html#citation",
    "href": "tutorials/DRpower/DRpower_background.html#citation",
    "title": "DRpower",
    "section": "Citation",
    "text": "Citation\nPlease use the following citation:\n@Manual{,\n    title = {DRpower: Study design and analysis for pfhrp2/3 deletion prevalence studies},\n    author = {Bob Verity and Shazia Ruybal},\n    note = {R package version 1.0.0},\n  }"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_installation.html#step-1-install-a-c-compiler",
    "href": "tutorials/DRpower/DRpower_installation.html#step-1-install-a-c-compiler",
    "title": "Installing DRpower",
    "section": "",
    "text": "DRpower is an R package, but it uses C++ code under the hood via the Rcpp package to make calculations faster. When you load the package for the first time, these C++ files must be compiled on your local machine. This requires you to have a C++ compiler installed.\nExpand the arrow to see instructions for your operating system:\n\n\nWindows\n\n\nInstall Rtools, which contains a series of tools for building R packages.\nOnce you have Rtools installed you should be able to compile.\n\n\n\n\nMac\n\n\nOpen a Terminal window. You can do this by searching (keyboard shortcut command+space) for “Terminal”.\nInside the terminal window, type the command xcode-select --install. This will prompt you to install Xcode command line tools.\nOnce you have Xcode command line tools installed you should be able to compile.\n\n\n\n\nLinux (Ubuntu)\n\n\nInstalling on Linux is a bit more tricky. Start by installing gcc.\nOpen a Terminal window.\nExecute the command sudo apt-get install r-base-dev.\nYou should now be able to compile."
  },
  {
    "objectID": "tutorials/DRpower/DRpower_installation.html#step-2-install-and-load-the-r-package",
    "href": "tutorials/DRpower/DRpower_installation.html#step-2-install-and-load-the-r-package",
    "title": "Installing DRpower",
    "section": "Step 2: install and load the R package",
    "text": "Step 2: install and load the R package\nIn R, ensure that you have the devtools package installed by running\n\ninstall.packages(\"devtools\", repos = 'http://cran.us.r-project.org')\n\nYou can then install the DRpower package directly from GitHub by running\n\ndevtools::install_github(\"mrc-ide/DRpower\", ref = \"v1.0.0\")\n\nAssuming everything installed correctly, we need to load the package:\n\nlibrary(DRpower)\n\nYou can test that the package is loaded and working by running the following command, which should produce this output:\n\ncheck_DRpower_loaded()\n\nDRpower version 0.1.0 loaded successfully!"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_analysis_pfhrp2.html",
    "href": "tutorials/DRpower/DRpower_analysis_pfhrp2.html",
    "title": "Analysis of pfhrp2/3 data",
    "section": "",
    "text": "This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_analysis_pfhrp2.html#r-markdown",
    "href": "tutorials/DRpower/DRpower_analysis_pfhrp2.html#r-markdown",
    "title": "Analysis of pfhrp2/3 data",
    "section": "",
    "text": "This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nWhen you click the Knit button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:\n\nsummary(cars)\n\n     speed           dist       \n Min.   : 4.0   Min.   :  2.00  \n 1st Qu.:12.0   1st Qu.: 26.00  \n Median :15.0   Median : 36.00  \n Mean   :15.4   Mean   : 42.98  \n 3rd Qu.:19.0   3rd Qu.: 56.00  \n Max.   :25.0   Max.   :120.00"
  },
  {
    "objectID": "tutorials/DRpower/DRpower_analysis_pfhrp2.html#including-plots",
    "href": "tutorials/DRpower/DRpower_analysis_pfhrp2.html#including-plots",
    "title": "Analysis of pfhrp2/3 data",
    "section": "Including Plots",
    "text": "Including Plots\nYou can also embed plots, for example:\n\n\n\n\n\nNote that the echo = FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot."
  }
]